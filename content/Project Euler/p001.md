Title: Project Euler problem 1 - Multiples of 3 and 5
Date: 2018-07-03
Modified: 2018-07-08 11:03
Category: Project Euler
Tags: project euler, python
related_posts: 
Slug: project-euler-problem-1
Authors: Søren
Summary: Solution to the first Project Euler problem about calculating the sum of integers divisible by 3 and 5.

[Link to problem on Project Euler homepage](https://projecteuler.net/problem=1)

[Link to Github repository](https://github.com/fractalleaf/project-euler/tree/master/p001)

## Description

If we list all the natural numbers below 10 that are multiples of 3 or 5, we get 3, 5, 6 and 9. The sum of these multiples is 23.

Find the sum of all the multiples of 3 or 5 below 1000.

## Brute force solution
A brute force solution to the problem can be obtained by simply looping over every integer below 1000 and checking if it is divisible by either 3 or 5.


```python
def p001():
    total = 0
    for n in range(1000):
        if n % 3 == 0 or n % 5 == 0:
            total += n
    return total

%timeit p001()
```

    88.8 µs ± 578 ns per loop (mean ± std. dev. of 7 runs, 10000 loops each)


## Clever solution

The sum of all integers smaller than N, divisible by n, may be written as

$$f(n, N) = n \times \sum_{i=1}^{\lfloor N/n \rfloor} i = n \times \frac{\lfloor N/n \rfloor (\lfloor N/n \rfloor + 1)}{2}$$

The solution to the problem is therefore given by $f(3, 999) + f(5, 999) - f(15, 999)$ where the last term is subtracted to take care of the double counting of those integers that are divisible by both 3 and 5.


```python
def sumDiv(n, N):
    p = N//n
    return n * p*(p+1) // 2

def p001():
    return sumDiv(3, 999) + sumDiv(5, 999) - sumDiv(15, 999)

%timeit p001()
```

    692 ns ± 8.37 ns per loop (mean ± std. dev. of 7 runs, 1000000 loops each)


The clever solution outperforms the brute force solution by more than a factor 100.
